<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="card">
                <h3 class="card-header text-center">Register</h3>
                <div class="card-body">
                    <form
                        #registerForm
                        class="needs-validation"
                        [formGroup]="registerFormGroup"
                        novalidate
                    >
                        <div class="mb-2">
                            <label for="firstName">First Name</label>
                            <input
                                type="text"
                                id="firstName"
                                class="form-control"
                                formControlName="firstName"
                                required
                                autocomplete="given-name"
                            />
                            @if (
                                registerFormGroup.controls[
                                    'firstName'
                                ].hasError('required')
                            ) {
                                <div class="invalid-feedback">
                                    First name cannot be empty
                                </div>
                            }
                        </div>
                        <div class="mb-2">
                            <label for="lastName">Last Name</label>
                            <input
                                type="text"
                                id="lastName"
                                class="form-control"
                                formControlName="lastName"
                                required
                                autocomplete="family-name"
                            />
                            @if (
                                registerFormGroup.controls['lastName'].hasError(
                                    'required'
                                )
                            ) {
                                <div class="invalid-feedback">
                                    Last name cannot be empty
                                </div>
                            }
                        </div>
                        <div class="mb-2">
                            <label for="email">Email</label>
                            <input
                                type="email"
                                id="email"
                                class="form-control"
                                formControlName="email"
                                required
                                autocomplete="email"
                            />
                            @if (
                                registerFormGroup.controls['email'].hasError(
                                    'required'
                                )
                            ) {
                                <div class="invalid-feedback">
                                    Email cannot be empty
                                </div>
                            } @else if (
                                registerFormGroup.controls['email'].hasError(
                                    'email'
                                )
                            ) {
                                <div class="invalid-feedback">
                                    Please enter a valid email
                                </div>
                            }
                        </div>
                        <div class="mb-2">
                            <label for="username">Username</label>
                            <input
                                type="text"
                                id="username"
                                class="form-control"
                                formControlName="username"
                                required
                                autocomplete="username"
                            />
                            @if (
                                registerFormGroup.controls['username'].hasError(
                                    'required'
                                )
                            ) {
                                <div class="invalid-feedback">
                                    Username cannot be empty
                                </div>
                            }
                        </div>
                        <div class="mb-3">
                            <label for="password">Password</label>
                            <input
                                type="password"
                                id="password"
                                class="form-control"
                                formControlName="password"
                                required
                                minlength="8"
                                (input)="
                                    setConfirmPasswordValidity(confirmPassword)
                                "
                                autocomplete="new-password"
                            />
                            @if (
                                registerFormGroup.controls['password'].hasError(
                                    'required'
                                )
                            ) {
                                <div class="invalid-feedback">
                                    Password cannot be empty
                                </div>
                            } @else if (
                                registerFormGroup.controls['password'].hasError(
                                    'minlength'
                                )
                            ) {
                                <div class="invalid-feedback">
                                    Password cannot be less than 8 characters
                                </div>
                            }
                        </div>
                        <div class="mb-3">
                            <label for="confirmPassword"
                                >Confirm Password</label
                            >
                            <input
                                #confirmPassword
                                type="password"
                                id="confirmPassword"
                                class="form-control"
                                formControlName="confirmPassword"
                                required
                                (input)="
                                    setConfirmPasswordValidity(confirmPassword)
                                "
                                autocomplete="new-password"
                            />
                            @if (
                                registerFormGroup.controls[
                                    'confirmPassword'
                                ].hasError('required')
                            ) {
                                <div class="invalid-feedback">
                                    Confirm password cannot be empty
                                </div>
                            } @else if (
                                registerFormGroup.hasError(
                                    'mismatchedPasswords'
                                )
                            ) {
                                <div class="invalid-feedback">
                                    Passwords do not match
                                </div>
                            }
                        </div>
                        <div class="d-flex justify-content-center mb-2">
                            <button type="submit" class="btn btn-primary">
                                Register
                            </button>
                        </div>
                        <div class="mb-0">
                            <p class="text-center mb-0">
                                Already have an account?
                                <a routerLink="/login">Sign In</a>
                            </p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
